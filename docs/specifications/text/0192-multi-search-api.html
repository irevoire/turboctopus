<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Multi-search API | Welcome to the Meilisearch specifications!</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.e3743cd1.css" as="style"><link rel="preload" href="/assets/js/app.b3ffc289.js" as="script"><link rel="preload" href="/assets/js/3.4da56047.js" as="script"><link rel="preload" href="/assets/js/60.df174b2b.js" as="script"><link rel="prefetch" href="/assets/js/10.15aff203.js"><link rel="prefetch" href="/assets/js/11.72b45679.js"><link rel="prefetch" href="/assets/js/12.5c280327.js"><link rel="prefetch" href="/assets/js/13.5ee4202d.js"><link rel="prefetch" href="/assets/js/14.acdd32fb.js"><link rel="prefetch" href="/assets/js/15.3f1414b9.js"><link rel="prefetch" href="/assets/js/16.166f3cec.js"><link rel="prefetch" href="/assets/js/17.e4dc4ad5.js"><link rel="prefetch" href="/assets/js/18.bee2a3a1.js"><link rel="prefetch" href="/assets/js/19.be4b88e4.js"><link rel="prefetch" href="/assets/js/20.9f9509a9.js"><link rel="prefetch" href="/assets/js/21.5d4e271d.js"><link rel="prefetch" href="/assets/js/22.9d7baf38.js"><link rel="prefetch" href="/assets/js/23.06e68601.js"><link rel="prefetch" href="/assets/js/24.71bff866.js"><link rel="prefetch" href="/assets/js/25.759f5cae.js"><link rel="prefetch" href="/assets/js/26.a92885cc.js"><link rel="prefetch" href="/assets/js/27.5e7527f3.js"><link rel="prefetch" href="/assets/js/28.d2c2cee7.js"><link rel="prefetch" href="/assets/js/29.239d404a.js"><link rel="prefetch" href="/assets/js/30.ffe8feb9.js"><link rel="prefetch" href="/assets/js/31.1325098a.js"><link rel="prefetch" href="/assets/js/32.3d0e4e96.js"><link rel="prefetch" href="/assets/js/33.63b5ee32.js"><link rel="prefetch" href="/assets/js/34.b5b8f566.js"><link rel="prefetch" href="/assets/js/35.6f79f9fa.js"><link rel="prefetch" href="/assets/js/36.db871ac4.js"><link rel="prefetch" href="/assets/js/37.b931d639.js"><link rel="prefetch" href="/assets/js/38.651ab4ec.js"><link rel="prefetch" href="/assets/js/39.3ffdfa45.js"><link rel="prefetch" href="/assets/js/4.f57bbccf.js"><link rel="prefetch" href="/assets/js/40.abe06e6a.js"><link rel="prefetch" href="/assets/js/41.65027914.js"><link rel="prefetch" href="/assets/js/42.abb4f81a.js"><link rel="prefetch" href="/assets/js/43.af7cbf45.js"><link rel="prefetch" href="/assets/js/44.97d19d44.js"><link rel="prefetch" href="/assets/js/45.4d87f763.js"><link rel="prefetch" href="/assets/js/46.28bc0390.js"><link rel="prefetch" href="/assets/js/47.218470ef.js"><link rel="prefetch" href="/assets/js/48.b1af9c47.js"><link rel="prefetch" href="/assets/js/49.9139719c.js"><link rel="prefetch" href="/assets/js/5.2065d417.js"><link rel="prefetch" href="/assets/js/50.5561182d.js"><link rel="prefetch" href="/assets/js/51.a5cea8ee.js"><link rel="prefetch" href="/assets/js/52.b777542a.js"><link rel="prefetch" href="/assets/js/53.8db66a80.js"><link rel="prefetch" href="/assets/js/54.b042742e.js"><link rel="prefetch" href="/assets/js/55.c22aa2c6.js"><link rel="prefetch" href="/assets/js/56.90740de2.js"><link rel="prefetch" href="/assets/js/57.6e1d5d7b.js"><link rel="prefetch" href="/assets/js/58.aff610e0.js"><link rel="prefetch" href="/assets/js/59.79acfddd.js"><link rel="prefetch" href="/assets/js/6.87f02c74.js"><link rel="prefetch" href="/assets/js/61.83d47f92.js"><link rel="prefetch" href="/assets/js/62.3ac8f506.js"><link rel="prefetch" href="/assets/js/63.aec419b4.js"><link rel="prefetch" href="/assets/js/64.35b62905.js"><link rel="prefetch" href="/assets/js/65.cb3ec6ff.js"><link rel="prefetch" href="/assets/js/66.74682a96.js"><link rel="prefetch" href="/assets/js/67.4c9b4fac.js"><link rel="prefetch" href="/assets/js/68.b22329c3.js"><link rel="prefetch" href="/assets/js/7.fadbe260.js"><link rel="prefetch" href="/assets/js/8.e63f62a9.js"><link rel="prefetch" href="/assets/js/9.0238d3e6.js"><link rel="prefetch" href="/assets/js/vendors~docs-searchbar.9a2822a3.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e3743cd1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Welcome to the Meilisearch specifications!</span></a> <div class="links"><form id="search-form" role="search" class="meilisearch-search-wrapper search-box"><input id="meilisearch-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/specifications/text/specifications/text/0000-specification-template.html" class="nav-link">
  Specification
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/specifications/text/specifications/text/0000-specification-template.html" class="nav-link">
  Specification
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/specifications/text/0000-specification-template.html" class="sidebar-link">Specification template</a></li><li><a href="/specifications/text/0001-frontend-disable-prod.html" class="sidebar-link">Frontend disable prod</a></li><li><a href="/specifications/text/0001-script-based-tokenizer.html" class="sidebar-link">Script based tokenizer</a></li><li><a href="/specifications/text/0028-indexing-csv.html" class="sidebar-link">Indexing csv</a></li><li><a href="/specifications/text/0029-indexing-ndjson.html" class="sidebar-link">Indexing ndjson</a></li><li><a href="/specifications/text/0032-distinct-attribute.html" class="sidebar-link">Distinct attribute</a></li><li><a href="/specifications/text/0033-logging.html" class="sidebar-link">Logging</a></li><li><a href="/specifications/text/0034-telemetry-policies.html" class="sidebar-link">Telemetry policies</a></li><li><a href="/specifications/text/0038-rename-attributes-for-faceting.html" class="sidebar-link">Rename attributes for faceting</a></li><li><a href="/specifications/text/0043-phrase-query.html" class="sidebar-link">Phrase query</a></li><li><a href="/specifications/text/0047-reset-stop-words-synonyms-settings-with-null.html" class="sidebar-link">Reset stop words synonyms settings with null</a></li><li><a href="/specifications/text/0048-rename-max-mdb-size-var.html" class="sidebar-link">Rename max mdb size var</a></li><li><a href="/specifications/text/0055-sort.html" class="sidebar-link">Sort</a></li><li><a href="/specifications/text/0059-geo-search.html" class="sidebar-link">Geo search</a></li><li><a href="/specifications/text/0060-tasks-api.html" class="sidebar-link">Tasks api</a></li><li><a href="/specifications/text/0061-error-format-and-definitions.html" class="sidebar-link">Error format and definitions</a></li><li><a href="/specifications/text/0077-words-position-limit.html" class="sidebar-link">Words position limit</a></li><li><a href="/specifications/text/0085-api-keys.html" class="sidebar-link">Api keys</a></li><li><a href="/specifications/text/0089-tenant-tokens.html" class="sidebar-link">Tenant tokens</a></li><li><a href="/specifications/text/0096-auto-batching.html" class="sidebar-link">Auto batching</a></li><li><a href="/specifications/text/0105-dumps-api.html" class="sidebar-link">Dumps api</a></li><li><a href="/specifications/text/0117-typo-tolerance-setting-api.html" class="sidebar-link">Typo tolerance setting api</a></li><li><a href="/specifications/text/0118-search-api.html" class="sidebar-link">Search api</a></li><li><a href="/specifications/text/0119-instance-options.html" class="sidebar-link">Instance options</a></li><li><a href="/specifications/text/0121-data-types.html" class="sidebar-link">Data types</a></li><li><a href="/specifications/text/0123-displayed-attributes-setting-api.html" class="sidebar-link">Displayed attributes setting api</a></li><li><a href="/specifications/text/0123-distinct-attribute-setting-api.html" class="sidebar-link">Distinct attribute setting api</a></li><li><a href="/specifications/text/0123-filterable-attributes-setting-api.html" class="sidebar-link">Filterable attributes setting api</a></li><li><a href="/specifications/text/0123-proximity-precision.html" class="sidebar-link">Proximity precision</a></li><li><a href="/specifications/text/0123-ranking-rules-setting-api.html" class="sidebar-link">Ranking rules setting api</a></li><li><a href="/specifications/text/0123-searchable-attributes-setting-api.html" class="sidebar-link">Searchable attributes setting api</a></li><li><a href="/specifications/text/0123-separators-settings-api.html" class="sidebar-link">Separators settings api</a></li><li><a href="/specifications/text/0123-settings-api.html" class="sidebar-link">Settings api</a></li><li><a href="/specifications/text/0123-sortable-attributes-setting-api.html" class="sidebar-link">Sortable attributes setting api</a></li><li><a href="/specifications/text/0123-stop-words-setting-api.html" class="sidebar-link">Stop words setting api</a></li><li><a href="/specifications/text/0123-synonyms-setting-api.html" class="sidebar-link">Synonyms setting api</a></li><li><a href="/specifications/text/0123-user-dictionary-settings-api.html" class="sidebar-link">User dictionary settings api</a></li><li><a href="/specifications/text/0124-documents-api.html" class="sidebar-link">Documents api</a></li><li><a href="/specifications/text/0132-indexes-api.html" class="sidebar-link">Indexes api</a></li><li><a href="/specifications/text/0134-stats-api.html" class="sidebar-link">Stats api</a></li><li><a href="/specifications/text/0135-indexing-json.html" class="sidebar-link">Indexing json</a></li><li><a href="/specifications/text/0136-documents-soft-deletion.html" class="sidebar-link">Documents soft deletion</a></li><li><a href="/specifications/text/0171-version-api.html" class="sidebar-link">Version api</a></li><li><a href="/specifications/text/0172-health-api.html" class="sidebar-link">Health api</a></li><li><a href="/specifications/text/0174-metrics-api.html" class="sidebar-link">Metrics api</a></li><li><a href="/specifications/text/0178-compression-headers.html" class="sidebar-link">Compression headers</a></li><li><a href="/specifications/text/0185-configuration-file.html" class="sidebar-link">Configuration file</a></li><li><a href="/specifications/text/0191-swap-indexes-api.html" class="sidebar-link">Swap indexes api</a></li><li><a href="/specifications/text/0192-multi-search-api.html" aria-current="page" class="active sidebar-link">Multi search api</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/specifications/text/0192-multi-search-api.html#_1-summary" class="sidebar-link">1. Summary</a></li><li class="sidebar-sub-header"><a href="/specifications/text/0192-multi-search-api.html#_2-motivation" class="sidebar-link">2. Motivation</a></li><li class="sidebar-sub-header"><a href="/specifications/text/0192-multi-search-api.html#_3-functional-specification" class="sidebar-link">3. Functional Specification</a></li><li class="sidebar-sub-header"><a href="/specifications/text/0192-multi-search-api.html#_2-technical-details" class="sidebar-link">2. Technical Details</a></li><li class="sidebar-sub-header"><a href="/specifications/text/0192-multi-search-api.html#_3-future-possibilities" class="sidebar-link">3. Future Possibilities</a></li></ul></li><li><a href="/specifications/text/0193-experimental-features.html" class="sidebar-link">Experimental features</a></li><li><a href="/specifications/text/0194-experimental-feature-api.html" class="sidebar-link">Experimental feature api</a></li><li><a href="/specifications/text/0195-ranking-score.html" class="sidebar-link">Ranking score</a></li><li><a href="/specifications/text/0246-facet-search-api.html" class="sidebar-link">Facet search api</a></li><li><a href="/specifications/text/0258-snapshots-api.html" class="sidebar-link">Snapshots api</a></li><li><a href="/specifications/text/0262-task-queue-webhook.html" class="sidebar-link">Task queue webhook</a></li><li><a href="/specifications/text/157-faceting-setting-api.html" class="sidebar-link">Aceting setting api</a></li><li><a href="/specifications/text/157-pagination-setting-api.html" class="sidebar-link">Agination setting api</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="multi-search-api"><a href="#multi-search-api" class="header-anchor">#</a> Multi-search API</h1> <h2 id="_1-summary"><a href="#_1-summary" class="header-anchor">#</a> 1. Summary</h2> <p>The multi-search endpoint performs multiple search queries on one or more indexes by bundling them into a single request.
Each search query has its own results set.</p> <h2 id="_2-motivation"><a href="#_2-motivation" class="header-anchor">#</a> 2. Motivation</h2> <ul><li>Perform multiple queries in a single HTTP request</li></ul> <h2 id="_3-functional-specification"><a href="#_3-functional-specification" class="header-anchor">#</a> 3. Functional Specification</h2> <p>Meilisearch exposes 1 route to perform multi-search requests:</p> <ul><li>POST <code>/multi-search</code></li></ul> <p>If a master key is used to secure a Meilisearch instance, the auth layer returns the following errors:</p> <ul><li>🔴 Accessing these routes without the <code>Authorization</code> header returns a <a href="/specifications/text/0061-error-format-and-definitions.html#missing_authorization_header">missing_authorization_header</a> error.</li> <li>🔴 Accessing these routes with a key that does not have permissions (i.e. other than the master key) returns an <a href="/specifications/text/0061-error-format-and-definitions.html#invalid_api_key">invalid_api_key</a> error.</li></ul> <p>If any of the search queries fail to execute, the response returns the corresponding error instead of the array of results. If multiple queries fail, only the first encountered failure is returned.</p> <p><code>POST</code> HTTP verb errors:</p> <ul><li>🔴 Omitting the Content-Type header returns a <a href="/specifications/text/0061-error-format-and-definitions.html#missing_content_type">missing_content_type</a> error.</li> <li>🔴 Sending an empty Content-Type returns an <a href="/specifications/text/0061-error-format-and-definitions.html#invalid_content_type">invalid_content_type</a> error.</li> <li>🔴 Sending a different Content-Type than <code>application/json</code> returns an <a href="/specifications/text/0061-error-format-and-definitions.html#invalid_content_type">invalid_content_type</a> error.</li> <li>🔴 Sending an empty payload returns a <a href="/specifications/text/0061-error-format-and-definitions.html#missing_payload">missing_payload</a> error.</li> <li>🔴 Sending an invalid JSON payload returns a <a href="/specifications/text/0061-error-format-and-definitions.html#malformed_payload">malformed_payload</a> error.</li> <li>🔴 Sending an inexistent <code>indexUid</code> in a query object returns an <a href="/specifications/text/0061-error-format-and-definitions.html#index_not_found">index_not_found</a> error.</li> <li>🔴 Sending an invalid format for the <code>indexUid</code> property in a query object returns an <a href="/specifications/text/0061-error-format-and-definitions.html#invalid_index_uid">invalid_index_uid</a> error.</li></ul> <h3 id="_3-1-search-payload-parameters"><a href="#_3-1-search-payload-parameters" class="header-anchor">#</a> 3.1. Search Payload Parameters</h3> <table><thead><tr><th>Field</th> <th>Type</th> <th>Required</th></tr></thead> <tbody><tr><td><a href="#311-queries"><code>queries</code></a></td> <td>Array of Objects</td> <td>True</td></tr></tbody></table> <h4 id="_3-1-1-queries"><a href="#_3-1-1-queries" class="header-anchor">#</a> 3.1.1. <code>queries</code></h4> <ul><li>Type: Object</li> <li>Required: True</li></ul> <p>The <code>queries</code> object contains the list of search queries to perform.</p> <p>Each element of this array is a JSON object with the required field <code>indexUid</code>, the uid of the index to be searched. Other fields of this object are optional, and identical to the ones in the <a href="/specifications/text/0118-search-api.html#31-search-payload-parameters">existing search routes</a> (<code>q</code>, <code>limit</code>, etc.).</p> <h3 id="_3-2-search-response-properties"><a href="#_3-2-search-response-properties" class="header-anchor">#</a> 3.2. Search Response Properties</h3> <table><thead><tr><th>Field</th> <th>Type</th> <th>Required</th></tr></thead> <tbody><tr><td><a href="#321-results"><code>results</code></a></td> <td>Array[Object]</td> <td>True</td></tr></tbody></table> <h4 id="_3-2-1-results"><a href="#_3-2-1-results" class="header-anchor">#</a> 3.2.1. <code>results</code></h4> <ul><li>Type: Array[Objets]</li> <li>Required: True</li></ul> <p>Results of the search queries as an array of search results.</p> <p>Each element in this array contains the results of the search queries in the same order they have been requested. Additionally to the <a href="/specifications/text/0118-search-api.html#31-formatting-search-results">usual fields returned by a search result</a>, an <code>indexUid</code> field is present with the index UID on which the search has been performed.</p> <p>example:</p> <p>Search queries:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;queries&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">{</span> <span class="token property">&quot;indexUid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;movie&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;q&quot;</span><span class="token operator">:</span> <span class="token string">&quot;wonder&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token property">&quot;indexUid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;books&quot;</span><span class="token punctuation">,</span> <span class="token property">&quot;q&quot;</span><span class="token operator">:</span> <span class="token string">&quot;king&quot;</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Search results:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
   <span class="token property">&quot;results&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> 
      <span class="token punctuation">{</span>
         <span class="token property">&quot;indexUid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;movie&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;hits&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">{</span> <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;wonderwoman&quot;</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
         <span class="token comment">// other search results fields: processingTimeMs, limit, ...</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
         <span class="token property">&quot;indexUid&quot;</span><span class="token operator">:</span> <span class="token string">&quot;books&quot;</span><span class="token punctuation">,</span>
         <span class="token property">&quot;hits&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">{</span> <span class="token property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;king kong theory&quot;</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
         <span class="token comment">// other search results fields: processingTimeMs, limit, ...</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>The other fields of an element from the <code>results</code> array are identical to the fields of the <a href="/specifications/text/0118-search-api.html#31-formatting-search-results">response from the other search routes</a>.</p> <h2 id="_2-technical-details"><a href="#_2-technical-details" class="header-anchor">#</a> 2. Technical Details</h2> <p>n/a</p> <h2 id="_3-future-possibilities"><a href="#_3-future-possibilities" class="header-anchor">#</a> 3. Future Possibilities</h2> <ul><li>Allow specifying an index uid pattern instead of an index uid to produce searches on all indexes matching the pattern.</li> <li>Allow additional arguments to the request specifying a strategy to aggregate results from the multiple searches.</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/specifications/text/0191-swap-indexes-api.html" class="prev">
        Swap indexes api
      </a></span> <span class="next"><a href="/specifications/text/0193-experimental-features.html">
        Experimental features
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.b3ffc289.js" defer></script><script src="/assets/js/3.4da56047.js" defer></script><script src="/assets/js/60.df174b2b.js" defer></script>
  </body>
</html>
