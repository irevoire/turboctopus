(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{484:function(t,e,s){"use strict";s.r(e);var a=s(62),r=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"multi-search-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#multi-search-api"}},[t._v("#")]),t._v(" Multi-search API")]),t._v(" "),s("h2",{attrs:{id:"_1-summary"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-summary"}},[t._v("#")]),t._v(" 1. Summary")]),t._v(" "),s("p",[t._v("The multi-search endpoint performs multiple search queries on one or more indexes by bundling them into a single request.\nEach search query has its own results set.")]),t._v(" "),s("h2",{attrs:{id:"_2-motivation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-motivation"}},[t._v("#")]),t._v(" 2. Motivation")]),t._v(" "),s("ul",[s("li",[t._v("Perform multiple queries in a single HTTP request")])]),t._v(" "),s("h2",{attrs:{id:"_3-functional-specification"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-functional-specification"}},[t._v("#")]),t._v(" 3. Functional Specification")]),t._v(" "),s("p",[t._v("Meilisearch exposes 1 route to perform multi-search requests:")]),t._v(" "),s("ul",[s("li",[t._v("POST "),s("code",[t._v("/multi-search")])])]),t._v(" "),s("p",[t._v("If a master key is used to secure a Meilisearch instance, the auth layer returns the following errors:")]),t._v(" "),s("ul",[s("li",[t._v("ðŸ”´ Accessing these routes without the "),s("code",[t._v("Authorization")]),t._v(" header returns a "),s("RouterLink",{attrs:{to:"/specifications/text/0061-error-format-and-definitions.html#missing_authorization_header"}},[t._v("missing_authorization_header")]),t._v(" error.")],1),t._v(" "),s("li",[t._v("ðŸ”´ Accessing these routes with a key that does not have permissions (i.e. other than the master key) returns an "),s("RouterLink",{attrs:{to:"/specifications/text/0061-error-format-and-definitions.html#invalid_api_key"}},[t._v("invalid_api_key")]),t._v(" error.")],1)]),t._v(" "),s("p",[t._v("If any of the search queries fail to execute, the response returns the corresponding error instead of the array of results. If multiple queries fail, only the first encountered failure is returned.")]),t._v(" "),s("p",[s("code",[t._v("POST")]),t._v(" HTTP verb errors:")]),t._v(" "),s("ul",[s("li",[t._v("ðŸ”´ Omitting the Content-Type header returns a "),s("RouterLink",{attrs:{to:"/specifications/text/0061-error-format-and-definitions.html#missing_content_type"}},[t._v("missing_content_type")]),t._v(" error.")],1),t._v(" "),s("li",[t._v("ðŸ”´ Sending an empty Content-Type returns an "),s("RouterLink",{attrs:{to:"/specifications/text/0061-error-format-and-definitions.html#invalid_content_type"}},[t._v("invalid_content_type")]),t._v(" error.")],1),t._v(" "),s("li",[t._v("ðŸ”´ Sending a different Content-Type than "),s("code",[t._v("application/json")]),t._v(" returns an "),s("RouterLink",{attrs:{to:"/specifications/text/0061-error-format-and-definitions.html#invalid_content_type"}},[t._v("invalid_content_type")]),t._v(" error.")],1),t._v(" "),s("li",[t._v("ðŸ”´ Sending an empty payload returns a "),s("RouterLink",{attrs:{to:"/specifications/text/0061-error-format-and-definitions.html#missing_payload"}},[t._v("missing_payload")]),t._v(" error.")],1),t._v(" "),s("li",[t._v("ðŸ”´ Sending an invalid JSON payload returns a "),s("RouterLink",{attrs:{to:"/specifications/text/0061-error-format-and-definitions.html#malformed_payload"}},[t._v("malformed_payload")]),t._v(" error.")],1),t._v(" "),s("li",[t._v("ðŸ”´ Sending an inexistent "),s("code",[t._v("indexUid")]),t._v(" in a query object returns an "),s("RouterLink",{attrs:{to:"/specifications/text/0061-error-format-and-definitions.html#index_not_found"}},[t._v("index_not_found")]),t._v(" error.")],1),t._v(" "),s("li",[t._v("ðŸ”´ Sending an invalid format for the "),s("code",[t._v("indexUid")]),t._v(" property in a query object returns an "),s("RouterLink",{attrs:{to:"/specifications/text/0061-error-format-and-definitions.html#invalid_index_uid"}},[t._v("invalid_index_uid")]),t._v(" error.")],1)]),t._v(" "),s("h3",{attrs:{id:"_3-1-search-payload-parameters"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-search-payload-parameters"}},[t._v("#")]),t._v(" 3.1. Search Payload Parameters")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Field")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Required")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("a",{attrs:{href:"#311-queries"}},[s("code",[t._v("queries")])])]),t._v(" "),s("td",[t._v("Array of Objects")]),t._v(" "),s("td",[t._v("True")])])])]),t._v(" "),s("h4",{attrs:{id:"_3-1-1-queries"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-1-queries"}},[t._v("#")]),t._v(" 3.1.1. "),s("code",[t._v("queries")])]),t._v(" "),s("ul",[s("li",[t._v("Type: Object")]),t._v(" "),s("li",[t._v("Required: True")])]),t._v(" "),s("p",[t._v("The "),s("code",[t._v("queries")]),t._v(" object contains the list of search queries to perform.")]),t._v(" "),s("p",[t._v("Each element of this array is a JSON object with the required field "),s("code",[t._v("indexUid")]),t._v(", the uid of the index to be searched. Other fields of this object are optional, and identical to the ones in the "),s("RouterLink",{attrs:{to:"/specifications/text/0118-search-api.html#31-search-payload-parameters"}},[t._v("existing search routes")]),t._v(" ("),s("code",[t._v("q")]),t._v(",Â "),s("code",[t._v("limit")]),t._v(", etc.).")],1),t._v(" "),s("h3",{attrs:{id:"_3-2-search-response-properties"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-search-response-properties"}},[t._v("#")]),t._v(" 3.2. Search Response Properties")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Field")]),t._v(" "),s("th",[t._v("Type")]),t._v(" "),s("th",[t._v("Required")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("a",{attrs:{href:"#321-results"}},[s("code",[t._v("results")])])]),t._v(" "),s("td",[t._v("Array[Object]")]),t._v(" "),s("td",[t._v("True")])])])]),t._v(" "),s("h4",{attrs:{id:"_3-2-1-results"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-1-results"}},[t._v("#")]),t._v(" 3.2.1. "),s("code",[t._v("results")])]),t._v(" "),s("ul",[s("li",[t._v("Type: Array[Objets]")]),t._v(" "),s("li",[t._v("Required: True")])]),t._v(" "),s("p",[t._v("Results of the search queries as an array of search results.")]),t._v(" "),s("p",[t._v("Each element in this array contains the results of the search queries in the same order they have been requested. Additionally to the "),s("RouterLink",{attrs:{to:"/specifications/text/0118-search-api.html#31-formatting-search-results"}},[t._v("usual fields returned by a search result")]),t._v(", an "),s("code",[t._v("indexUid")]),t._v(" field is present with the index UID on which the search has been performed.")],1),t._v(" "),s("p",[t._v("example:")]),t._v(" "),s("p",[t._v("Search queries:")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"queries"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"indexUid"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"movie"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"q"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"wonder"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"indexUid"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"books"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"q"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"king"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("Search results:")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"results"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" \n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"indexUid"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"movie"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hits"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"title"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"wonderwoman"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// other search results fields: processingTimeMs, limit, ...")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"indexUid"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"books"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hits"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"title"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"king kong theory"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// other search results fields: processingTimeMs, limit, ...")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("The other fields of an element from the "),s("code",[t._v("results")]),t._v(" array are identical to the fields of the "),s("RouterLink",{attrs:{to:"/specifications/text/0118-search-api.html#31-formatting-search-results"}},[t._v("response from the other search routes")]),t._v(".")],1),t._v(" "),s("h2",{attrs:{id:"_2-technical-details"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-technical-details"}},[t._v("#")]),t._v(" 2. Technical Details")]),t._v(" "),s("p",[t._v("n/a")]),t._v(" "),s("h2",{attrs:{id:"_3-future-possibilities"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-future-possibilities"}},[t._v("#")]),t._v(" 3. Future Possibilities")]),t._v(" "),s("ul",[s("li",[t._v("Allow specifying an index uid pattern instead of an index uid to produce searches on all indexes matching the pattern.")]),t._v(" "),s("li",[t._v("Allow additional arguments to the request specifying a strategy to aggregate results from the multiple searches.")])])])}),[],!1,null,null,null);e.default=r.exports}}]);